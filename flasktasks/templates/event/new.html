{% extends "base.html" %}
{% block additionalscripts %}
    <!-- wysihtml5 parser rules -->
    <script src="{{ url_for('static',filename='wysihtml5/parser_rules/advanced.js') }}"></script>
    <!-- Library -->
    <script src="{{ url_for('static',filename='wysihtml5/dist/wysihtml5-0.3.0.min.js') }}"></script>
{% endblock %}
{% block body %}
<div class="container">
    <div class="page-header">
        <h1>New Event</h1>
    </div>

    <form method="POST">
        <div class="form-group">
            <input name="title" type="text" class="form-control" placeholder="What must be done?" required>
        </div>
        <div id="wysihtml5-toolbar" style="display: none;">
            <a data-wysihtml5-command="bold" class="btn btn-info"><strong>B</strong></a>
            <a data-wysihtml5-command="italic" class="btn btn-info"><i>I</i></a>

        </div>
        <div class="form-group">
            <textarea name="description" class="form-control" rows="20" placeholder="Describe at will" id="wysihtml5-textarea"></textarea>
        </div>
        
        <!--<div class="form-group">-->
            <!--<select class="form-control" name="storyline_id">-->
                <!--<option value="-1">Select a storyline</option>-->
                <!--{% for storyline in storylines %}-->
                    <!--<option value="{{ storyline.id }}" {{ storyline.id | is_selected }}>{{ storyline.title }}</option>-->
                <!--{% endfor %}-->
            <!--</select>-->
        <!--</div>-->

        <div class="form-group">
            <select class="form-control" name="chapter_id">
                <option value="-1">Select a chapter</option>
                {% for chapter in chapters %}
                    <option value="{{ chapter.id }}" {{ chapter.id | is_selected }}>{{ chapter.title }}</option>
                {% endfor %}
            </select>
        </div>

        <!--<div class="form-group">-->
            <!--<select class="form-control" name="castmember_id">-->
                <!--<option value="-1">Select a main character</option>-->
                <!--{% for castmember in castmembers %}-->
                    <!--<option value="{{ castmember.id }}" {{ castmember.id | is_selected }}>{{ castmember.name }}</option>-->
                <!--{% endfor %}-->
            <!--</select>-->
        <!--</div>-->

        <!--<div class="form-group">-->
            <!--<input name="occurs_percent" type="number" class="form-control" placeholder="When does this happen?">-->
        <!--</div>-->

        <button type="submit" class="btn btn-primary">Create it!</button>
    </form>

</div>


<script>
var editor = new wysihtml5.Editor("wysihtml5-textarea", { // id of textarea element
  toolbar:      "wysihtml5-toolbar", // id of toolbar element
  parserRules:  wysihtml5ParserRules // defined in parser rules set
});
</script>
{% endblock %}
